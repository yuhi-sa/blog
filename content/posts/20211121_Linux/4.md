---
title: "ネットワークのトラブルシューティングで利用する代表的なコマンド"
date: 2021-11-30T10:00:23+09:00
draft: false
tags: ["linux"] 
---
<!--more-->
# トラブルシューティング
一般的に下位のレイヤから確認を行う．
1. 物理的な確認
2. IPアドレスの設定確認
3. ネットワーク経路確認
4. 開いているポートの確認

# 代表的なコマンド
## ping
宛先へのネットワークの疎通確認

```bash
$ ping [オプション] 宛先IP
```

オプション
- -c　送信回数：送信回数指定
- -i　送信間隔：送信間隔指定
- -n：名前解決を行わない

## telnet
アプリケーション層での疎通確認

```bash
$ telnet [オプション] 宛先IP [ポート番号]
```

オプション
- -l ユーザ名：ユーザ名指定

## traceroute
始点から終点までのホスト間の経路情報確認

```bash
$ traceroute [オプション] 宛先IP
```

オプション
- -i インタフェース名：インタフェース名指定
- -T：TCPプロトコル利用
- -I：ICMPプロトコル利用
- -n：名前解決を行わない

## ip route
ルーティングテーブルのエントリ情報の表示

```bash
$ ip route [サブコマンド]
```

サブコマンド
- show：ルーティングテーブルの情報表示
- add ネットワーク：ルーティングテーブルにエントリ追加
- del ネットワーク：ルーティングテーブルからエントリ削除

## ss
ネットワーク接続の統計情報の出力(socket statistics)

```bash
$ ss [オプション]
```

オプション
- -a：すべて表示
- -l：Listenポートのみ表示
- -n：名前解決を行わない
- -t：TCPを表示
- -u：UDPを表示

## tcpdump
ネットワーク上を流れる通信パケットの閲覧

```bash
$ tcpdump [オプション] [条件]
```

オプション
- -c パケット数：パケット数指定
- -i インタフェース名：インタフェース指定
- -n ：名前解決を行わない
- -w ファイル名：ファイル名指定
- -v：IPヘッダの表示  

条件
- dst IPアドレス：宛先IPを指定
- src IPアドレス：送信元IPを指定
- prot ポート番号：ポート番号を指定
