---
title: "DS201の実施_WritePath"
date: 2023-06-29T09:00:23+09:00
draft: false
tags: ["cassandra"] 
---
<!--more-->
[DS201: Foundations of Apache Cassandra™ and DataStax Enterprise](https://www.datastax.com/jp/resources/datasheet/ds201-datastax-enterprise-foundations-apache-cassandratm)の学習

CassandraのWritePath（データの書き込み操作が行われるプロセス）は以下の通りです。

1. Cassandraでは、データの変更はまずコミットログ（commit log）に書き込まれる。コミットログはHDD（ハードディスクドライブ）上に配置され、データの永続性を確保する。コミットログは、データベースの更新操作を追跡するためのログファイルとなる。Cassandraは、書き込みリクエストを受け取るたびに、コミットログに対応するデータの変更を書き込む
2. データがコミットログに書き込まれた後、CassandraはRAM（ランダムアクセスメモリ）内にメモリテーブル（memtable）を作成する。メモリテーブルはデータの追加や更新を高速に処理するために使用される。メモリテーブルは、データの一時的な格納場所であり、最新のデータのバージョンを保持する。データはRAM内に存在するため、ディスクアクセスに比べて高速な読み書きが可能となる。ただし、メモリテーブルはシステムのメモリ容量によって制限されるため、一定の容量を超えるとディスクに書き出される。
3. メモリテーブル内のデータが一定の容量を超えると、Cassandraはメモリテーブルの内容をSSTable（Sorted String Table）と呼ばれるディスク上の構造に書き出す。SSTableは、ソートされた状態でデータを保存し、効率的な読み取り操作を可能にする。SSTableはディスク上の永続的なデータストレージです。
